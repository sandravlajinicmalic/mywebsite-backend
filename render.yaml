services:
  - type: web
    name: mywebsite-backend
    env: node
    region: frankfurt
    plan: free
    buildCommand: pwd && echo '=== Build Environment ===' && echo 'Node version:' && node --version && echo 'NPM version:' && npm --version && echo 'TypeScript version:' && npx tsc --version && echo '=== Installing dependencies ===' && npm install && echo '=== Building project ===' && npm run build && echo '=== Build verification ===' && ls -la dist/ && test -f dist/index.js && echo '✓ SUCCESS: dist/index.js exists' || (echo '✗ FAILED: dist/index.js not found!' && exit 1)
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      # Dodaj ostale environment variables u Render dashboard-u:
      # - FRONTEND_URL
      # - SUPABASE_URL
      # - SUPABASE_SERVICE_ROLE_KEY
      # - JWT_SECRET
      # - OPENAI_API_KEY
      # - SMTP_HOST
      # - SMTP_PORT
      # - SMTP_SECURE
      # - SMTP_USER
      # - SMTP_PASSWORD
      # - SMTP_FROM

